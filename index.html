<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Focus Mode - Classroom Study Timer</title>

    <!-- Google Font: Roboto -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="styles.css">
</head>

<body data-theme="space">
    <!-- Background overlay for dark mode -->
    <div class="background-overlay"></div>

    <!-- ========== TIMER (Top Center) ========== -->
    <div class="timer-container">
        <div class="timer-main">
            <h1 class="app-title">Focus Mode</h1>
            <div class="timer-arc-container">
                <svg class="timer-arc" viewBox="0 0 200 120">
                    <defs>
                        <linearGradient id="arcGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#F5A55A"/>
                            <stop offset="50%" style="stop-color:#C53FC4"/>
                            <stop offset="100%" style="stop-color:#5F20C6"/>
                        </linearGradient>
                    </defs>
                    <!-- Background arc -->
                    <path class="timer-arc-bg" d="M20 100 A80 80 0 0 1 180 100" />
                    <!-- Progress arc -->
                    <path class="timer-arc-progress" id="timerArcProgress" d="M20 100 A80 80 0 0 1 180 100" />
                    <!-- Progress indicator emoji -->
                    <text class="timer-arc-indicator" id="timerArcIndicator" x="20" y="100" text-anchor="middle" dominant-baseline="middle">üõ∏</text>
                </svg>
                <div class="timer-display-wrapper">
                    <div class="timer-display timer-editable" id="timerDisplay" tabindex="0">05:00</div>
                    <input type="text" class="timer-edit-input" id="timerEditInput" pattern="[0-9:]*" maxlength="5" value="05:00">
                </div>
            </div>
            <div class="timer-controls" id="timerControls">
                <button class="timer-btn" id="startBtn" title="Start (Space)">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8 5v14l11-7z" />
                    </svg>
                </button>
                <button class="timer-btn" id="pauseBtn" title="Pause (Space)" disabled>
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                    </svg>
                </button>
                <button class="timer-btn" id="resetBtn" title="Reset (R)">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
                    </svg>
                </button>
            </div>
            <input type="hidden" id="minutesInput" value="5">
        </div>
    </div>

    <!-- ========== NOISE METER (Left) ========== -->
    <div class="noise-meter-container" id="noiseMeterContainer">
        <div class="component-box">
            <div class="gauge-container">
                <svg class="gauge" viewBox="0 0 100 60">
                    <path class="gauge-bg" d="M10,50 A40,40 0 0,1 90,50" />
                    <path class="gauge-fill" id="gaugeFill" d="M10,50 A40,40 0 0,1 90,50" />
                    <line class="gauge-threshold" id="gaugeThreshold" x1="50" y1="50" x2="50" y2="12" transform="rotate(36, 50, 50)" />
                    <text class="gauge-threshold-label" id="gaugeThresholdLabel" x="72" y="30" font-size="6">70%</text>
                    <line class="gauge-needle" id="gaugeNeedle" x1="50" y1="50" x2="50" y2="15" />
                    <circle class="gauge-center" cx="50" cy="50" r="4" />
                </svg>
                <span class="gauge-label">Noise Level</span>
            </div>
            <div class="sensitivity-control">
                <input type="range" id="sensitivitySlider" min="10" max="90" value="70" class="sensitivity-slider">
                <span class="sensitivity-label">Sensitivity: <span id="sensitivityValue">70</span>%</span>
            </div>
            <div class="mic-controls">
                <button class="component-btn" id="micBtn" title="Toggle Microphone">
                    <svg viewBox="0 0 24 24" fill="currentColor" id="micIcon">
                        <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" />
                    </svg>
                </button>
                <div class="noise-counter" title="Alert Count">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z" />
                    </svg>
                    <span id="noiseCounter">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== ANALOG CLOCK (Right) ========== -->
    <div class="clock-container" id="clockContainer">
        <div class="component-box">
            <div class="analog-clock">
                <div class="clock-face">
                    <div class="hour-marker marker-12"></div>
                    <div class="hour-marker marker-3"></div>
                    <div class="hour-marker marker-6"></div>
                    <div class="hour-marker marker-9"></div>
                    <div class="clock-hand hour-hand" id="hourHand"></div>
                    <div class="clock-hand minute-hand" id="minuteHand"></div>
                    <div class="clock-hand second-hand" id="secondHand"></div>
                    <div class="clock-center"></div>
                </div>
            </div>
            <span class="clock-label" id="digitalTime">12:00</span>
        </div>
    </div>

    <!-- ========== ROBOT (Center) ========== -->
    <div class="robot-container">
        <div class="speech-bubble" id="speechBubble">
            <span id="speechText">Shhh!</span>
            <div class="speech-bubble-tail"></div>
        </div>

        <!-- Animated Robot SVG -->
        <div class="robot-wrapper" id="robotWrapper">
            <svg class="robot-svg" viewBox="0 0 234 314" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- Antenna ball -->
                <circle class="robot-antenna" cx="142.203" cy="11.5308" r="11.458" fill="url(#paint7_linear)" />
                <!-- Antenna stem -->
                <path
                    d="M137.879 20.8804C137.879 18.7031 139.644 16.938 141.821 16.938C143.999 16.938 145.764 18.7031 145.764 20.8804V31.5397H137.879V20.8804Z"
                    fill="url(#paint6_linear)" />

                <!-- Head -->
                <path
                    d="M74.2324 79.5158C74.2324 53.0683 95.6723 31.6284 122.12 31.6284H161.557C188.004 31.6284 209.444 53.0683 209.444 79.5158C209.444 105.963 188.004 127.403 161.557 127.403H122.12C95.6723 127.403 74.2324 105.963 74.2324 79.5158Z"
                    fill="url(#paint0_linear)" />

                <!-- Glasses frames -->
                <path
                    d="M91.2305 71.428C91.2305 64.6219 96.7461 59.1045 103.55 59.1045H123.261C130.065 59.1045 135.581 64.6219 135.581 71.428V78.822C135.581 85.6281 130.065 91.1455 123.261 91.1455H103.55C96.7461 91.1455 91.2305 85.6281 91.2305 78.822V71.428Z"
                    fill="white" />
                <path
                    d="M149.132 71.428C149.132 64.6219 154.648 59.1045 161.452 59.1045H181.163C187.967 59.1045 193.483 64.6219 193.483 71.428V78.822C193.483 85.6281 187.967 91.1455 181.163 91.1455H161.452C154.648 91.1455 149.132 85.6281 149.132 78.822V71.428Z"
                    fill="white" />
                <!-- Glasses bridge -->
                <rect x="131.312" y="72.5532" width="22.1518" height="8.04322" fill="white" />
                <!-- Glasses arms -->
                <path
                    d="M187.476 75.06C186.381 73.4042 186.834 71.1734 188.49 70.0774L203.926 59.8569C205.582 58.761 207.812 59.2148 208.907 60.8706C210.003 62.5264 209.549 64.7572 207.894 65.8531L192.457 76.0737C190.802 77.1696 188.572 76.7158 187.476 75.06Z"
                    fill="white" />
                <path
                    d="M74.8181 60.8721C75.9138 59.2163 78.1438 58.7624 79.7991 59.8584L95.9255 70.5356C97.5808 71.6316 98.0345 73.8624 96.9389 75.5182C95.8433 77.174 93.6132 77.6278 91.958 76.5319L75.8315 65.8546C74.1762 64.7586 73.7225 62.5279 74.8181 60.8721Z"
                    fill="white" />

                <!-- Left eye background -->
                <circle opacity="0.5" cx="113.639" cy="73.1941" r="9.48852" fill="#372B75" />
                <!-- Left pupil -->
                <circle class="robot-pupil" cx="113.723" cy="70.9191" r="4.29949" fill="url(#paint8_radial)" />

                <!-- Right eye background -->
                <circle opacity="0.5" cx="170.071" cy="73.2073" r="9.48852" fill="#362B74" />
                <!-- Right pupil -->
                <circle class="robot-pupil" cx="170.026" cy="70.9191" r="4.29949" fill="url(#paint9_radial)" />

                <!-- Mouth -->
                <path class="robot-mouth"
                    d="M150.096 106.943C150.096 111.364 146.511 114.949 142.09 114.949C137.668 114.949 134.084 111.364 134.084 106.943C134.084 106.943 137.668 106.943 142.09 106.943C146.511 106.943 150.096 106.943 150.096 106.943Z"
                    fill="white" />

                <!-- Neck -->
                <rect x="136.678" y="127.326" width="11.6813" height="4.67254" fill="url(#paint2_linear)" />

                <!-- Left arm -->
                <path
                    d="M69.8908 176.677C78.1161 182.012 88.144 180.231 91.7577 172.794C94.5302 167.087 92.6879 159.607 87.2318 154.416L44.7345 113.991C30.1261 100.095 8.12903 106.571 8.63447 124.62C8.85103 132.353 13.4987 140.1 20.7378 144.796L69.8908 176.677Z"
                    fill="url(#paint3_linear)" />

                <!-- Right arm -->
                <path
                    d="M192.85 162.07C193.041 152.268 200.136 144.961 208.321 146.136C214.601 147.037 219.764 152.755 221.005 160.183L230.671 218.034C233.994 237.921 216.303 252.51 201.638 241.977C195.354 237.464 191.542 229.273 191.71 220.646L192.85 162.07Z"
                    fill="url(#paint1_linear)" />

                <!-- Body -->
                <path
                    d="M76.0645 189.114C76.0645 155.98 102.925 129.12 136.059 129.12H148.058C181.192 129.12 208.052 155.98 208.052 189.114V247.329C208.052 283.776 178.506 313.323 142.058 313.323C105.611 313.323 76.0645 283.776 76.0645 247.329V189.114Z"
                    fill="url(#paint4_linear)" />
                <path
                    d="M76.0645 189.114C76.0645 155.98 102.925 129.12 136.059 129.12H148.058C181.192 129.12 208.052 155.98 208.052 189.114V247.329C208.052 283.776 178.506 313.323 142.058 313.323C105.611 313.323 76.0645 283.776 76.0645 247.329V189.114Z"
                    fill="url(#paint5_radial)" fill-opacity="0.5" />

                <!-- Tie -->
                <path
                    d="M132.467 156.41C133.135 151.461 137.359 147.769 142.352 147.769C147.346 147.769 151.57 151.461 152.238 156.41L163.794 242.018C164.429 246.718 162.219 251.347 158.166 253.809L148.545 259.653C144.74 261.964 139.965 261.964 136.16 259.653L126.539 253.809C122.486 251.347 120.276 246.718 120.91 242.018L132.467 156.41Z"
                    fill="white" />

                <!-- Collar -->
                <path
                    d="M135.362 136.145C136.119 133.353 138.653 131.415 141.546 131.415H144.2C147.597 131.415 150.422 134.027 150.688 137.413C150.836 139.304 150.152 141.166 148.815 142.511L148.457 142.87C145.694 145.649 141.273 145.876 138.24 143.395L137.489 142.78C135.534 141.181 134.701 138.582 135.362 136.145Z"
                    fill="white" />

                <!-- Gradients -->
                <defs>
                    <linearGradient id="paint0_linear" x1="141.838" y1="31.6284" x2="141.838" y2="127.403"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#F5A55A" />
                        <stop offset="0.52" stop-color="#C53FC4" />
                        <stop offset="1" stop-color="#5F20C6" />
                    </linearGradient>
                    <linearGradient id="paint1_linear" x1="206.057" y1="145.811" x2="194.772" y2="224.418"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#F5A55A" />
                        <stop offset="0.52" stop-color="#C53FC4" />
                        <stop offset="1" stop-color="#5F20C6" />
                    </linearGradient>
                    <linearGradient id="paint2_linear" x1="142.518" y1="127.326" x2="142.518" y2="131.999"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#6523C6" />
                        <stop offset="1" stop-color="#F5A35E" />
                    </linearGradient>
                    <linearGradient id="paint3_linear" x1="90.7583" y1="174.85" x2="19.3294" y2="140.145"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#F5A55A" />
                        <stop offset="0.52" stop-color="#C53FC4" />
                        <stop offset="1" stop-color="#5F20C6" />
                    </linearGradient>
                    <linearGradient id="paint4_linear" x1="142.058" y1="129.12" x2="142.058" y2="313.323"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#F5A55A" />
                        <stop offset="0.52" stop-color="#C53FC4" />
                        <stop offset="1" stop-color="#5F20C6" />
                    </linearGradient>
                    <radialGradient id="paint5_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                        gradientTransform="translate(142.615 128.582) rotate(90) scale(30.17 37.9)">
                        <stop stop-color="#6623C6" />
                        <stop offset="1" stop-color="#6623C6" stop-opacity="0" />
                    </radialGradient>
                    <linearGradient id="paint6_linear" x1="141.821" y1="16.938" x2="141.821" y2="31.5397"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#F5A55A" />
                        <stop offset="0.52" stop-color="#C53FC4" />
                        <stop offset="1" stop-color="#5F20C6" />
                    </linearGradient>
                    <linearGradient id="paint7_linear" x1="142.203" y1="0.073" x2="142.203" y2="22.989"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#F5A55A" />
                        <stop offset="0.52" stop-color="#C53FC4" />
                        <stop offset="1" stop-color="#5F20C6" />
                    </linearGradient>
                    <radialGradient id="paint8_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                        gradientTransform="translate(113.723 70.9191) rotate(90) scale(14.84)">
                        <stop offset="0.14" stop-color="white" />
                        <stop offset="1" stop-color="white" stop-opacity="0" />
                    </radialGradient>
                    <radialGradient id="paint9_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                        gradientTransform="translate(170.026 70.9191) rotate(90) scale(14.84)">
                        <stop offset="0.14" stop-color="white" />
                        <stop offset="1" stop-color="white" stop-opacity="0" />
                    </radialGradient>
                </defs>
            </svg>
        </div>
    </div>

    <!-- ========== BOTTOM BAR (2 rows in single container) ========== -->
    <div class="bottom-bar-container">
        <!-- Row 1: Music and Theme -->
        <div class="bottom-bar-row">
            <button class="bar-btn" id="audioPlayBtn" title="Play Music">
                <svg viewBox="0 0 24 24" fill="currentColor" id="audioPlayIcon">
                    <path d="M8 5v14l11-7z" />
                </svg>
            </button>

            <select class="bar-select" id="radioChannel">
                <option value="https://ice1.somafm.com/groovesalad-128-mp3">Groove Salad (Chill)</option>
                <option value="https://ice1.somafm.com/dronezone-128-mp3">Drone Zone (Ambient)</option>
                <option value="https://ice1.somafm.com/deepspaceone-128-mp3">Deep Space One</option>
                <option value="https://ice1.somafm.com/spacestation-128-mp3">Space Station Soma</option>
                <option value="https://ice1.somafm.com/lush-128-mp3">Lush (Dreamy)</option>
                <option value="https://ice1.somafm.com/seventies-128-mp3">Left Coast 70s</option>
            </select>

            <div class="bar-divider"></div>

            <select class="bar-select theme-select" id="themeSelect">
                <option value="space">üöÄ Space</option>
                <option value="dinosaur">ü¶ñ Dinosaur</option>
                <option value="dance">üíÉ Dance</option>
                <option value="egypt">üèõÔ∏è Ancient Egypt</option>
                <option value="wizard">üßô Wizard</option>
                <option value="minecraft">‚õèÔ∏è Minecraft</option>
            </select>
        </div>

        <!-- Row 2: Toggles -->
        <div class="bottom-bar-row">
            <button class="bar-btn toggle-btn" id="robotToggleBtn" title="Toggle Robot">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13a2.5 2.5 0 0 0 0 5 2.5 2.5 0 0 0 0-5m9 0a2.5 2.5 0 0 0 0 5 2.5 2.5 0 0 0 0-5z"/>
                </svg>
                <span class="btn-label">Robot</span>
            </button>

            <button class="bar-btn toggle-btn" id="noiseMeterToggleBtn" title="Toggle Noise Meter">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" />
                </svg>
                <span class="btn-label">Noise Meter</span>
            </button>

            <button class="bar-btn toggle-btn" id="clockToggleBtn" title="Toggle Clock">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                </svg>
                <span class="btn-label">Clock</span>
            </button>
        </div>
    </div>

    <!-- HTML5 Audio element for Soma.fm -->
    <audio id="audioPlayer"></audio>

    <script src="app.js"></script>
</body>

</html>
