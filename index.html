<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Focus Mode - Classroom Study Timer</title>

    <!-- Google Font: Inter + Creepster -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Creepster&display=swap" rel="stylesheet">


    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="styles.css">
</head>

<body data-theme="space">
    <!-- ========== LEFT SIDEBAR ========== -->
    <aside class="sidebar">
        <!-- Theme Selector -->
        <div class="theme-selector">
            <span class="theme-label">Theme:</span>
            <div class="custom-dropdown" id="themeDropdown">
                <div class="dropdown-trigger" id="themeTrigger">
                    <span class="dropdown-value" id="themeValue">üöÄ Space</span>
                    <svg class="dropdown-arrow" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 10l5 5 5-5z"/>
                    </svg>
                </div>
                <div class="dropdown-menu" id="themeMenu">
                    <div class="dropdown-option" data-value="space">üöÄ Space</div>
                    <div class="dropdown-option" data-value="dinosaur">ü¶ñ Dinosaur</div>
                    <div class="dropdown-option" data-value="dance">üíÉ Dance</div>
                    <div class="dropdown-option" data-value="egypt">üèõÔ∏è Ancient Egypt</div>
                    <div class="dropdown-option" data-value="wizard">üßô Wizard</div>
                    <div class="dropdown-option" data-value="zombies">üßü Zombies</div>
                    <div class="dropdown-option" data-value="library">üìö Library</div>
                </div>
            </div>
            <select class="theme-select" id="themeSelect" style="display: none;">
                <option value="space">üöÄ Space</option>
                <option value="dinosaur">ü¶ñ Dinosaur</option>
                <option value="dance">üíÉ Dance</option>
                <option value="egypt">üèõÔ∏è Ancient Egypt</option>
                <option value="wizard">üßô Wizard</option>
                <option value="zombies">üßü Zombies</option>
                <option value="library">üìö Library</option>
            </select>
        </div>

        <!-- Timer Card -->
        <div class="card timer-card">
            <h2 class="card-title">Launch Timer</h2>
            <div class="timer-arc-container">
                <svg class="timer-arc" viewBox="0 0 200 120">
                    <defs>
                        <linearGradient id="arcGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#9B7ED9"/>
                            <stop offset="50%" style="stop-color:#7B5FC4"/>
                            <stop offset="100%" style="stop-color:#9B7ED9"/>
                        </linearGradient>
                    </defs>
                    <!-- Background arc -->
                    <path class="timer-arc-bg" d="M20 100 A80 80 0 0 1 180 100" />
                    <!-- Progress arc -->
                    <path class="timer-arc-progress" id="timerArcProgress" d="M20 100 A80 80 0 0 1 180 100" />
                </svg>
                <span class="timer-theme-indicator" id="timerThemeIndicator">üõ∏</span>
                <div class="timer-display-wrapper">
                    <div class="timer-display" id="timerDisplay" tabindex="0">00:00</div>
                    <input type="text" class="timer-edit-input" id="timerEditInput" pattern="[0-9:]*" maxlength="5" value="05:00">
                </div>
            </div>
            <div class="timer-controls" id="timerControls">
                <button class="timer-btn" id="toggleBtn" title="Start/Pause (Space)">
                    <svg viewBox="0 0 24 24" fill="currentColor" id="toggleIcon">
                        <path d="M8 5v14l11-7z" />
                    </svg>
                </button>
                <button class="timer-btn" id="editBtn" title="Edit Timer">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"/>
                        <path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                </button>
                <button class="timer-btn" id="resetBtn" title="Reset (R)">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
                    </svg>
                </button>
            </div>
            <input type="hidden" id="minutesInput" value="5">
        </div>

        <!-- Noise Meter Card -->
        <div class="card noise-card" id="noiseMeterContainer">
            <div class="gauge-container">
                <svg class="gauge" viewBox="0 0 100 60">
                    <defs>
                        <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#4CAF50"/>
                            <stop offset="50%" style="stop-color:#FFC107"/>
                            <stop offset="100%" style="stop-color:#F44336"/>
                        </linearGradient>
                    </defs>
                    <path class="gauge-bg" d="M10,50 A40,40 0 0,1 90,50" />
                    <path class="gauge-fill" id="gaugeFill" d="M10,50 A40,40 0 0,1 90,50" />
                    <line class="gauge-threshold" id="gaugeThreshold" x1="50" y1="50" x2="50" y2="12" transform="rotate(36, 50, 50)" />
                    <line class="gauge-needle" id="gaugeNeedle" x1="50" y1="50" x2="50" y2="15" />
                    <circle class="gauge-center" cx="50" cy="50" r="4" />
                </svg>
                <span class="gauge-label">üîä Noise Level</span>
            </div>
            <div class="sensitivity-control">
                <input type="range" id="sensitivitySlider" min="10" max="90" value="70" class="sensitivity-slider">
                <span class="sensitivity-label">Sensitivity <span class="sensitivity-value" id="sensitivityValue">70</span>%</span>
            </div>
            <div class="mic-controls">
                <button class="component-btn" id="micBtn" title="Toggle Microphone">
                    <svg viewBox="0 0 24 24" fill="currentColor" id="micIcon">
                        <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" />
                    </svg>
                </button>
                <div class="noise-counter" title="Alert Count">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z" />
                    </svg>
                    <span id="noiseCounter">0</span>
                </div>
            </div>
        </div>

        <!-- Music Player -->
        <div class="music-player">
            <button class="play-btn" id="audioPlayBtn" title="Play Music">
                <svg viewBox="0 0 24 24" fill="currentColor" id="audioPlayIcon">
                    <path d="M8 5v14l11-7z" />
                </svg>
            </button>
            <div class="custom-dropdown music-dropdown" id="musicDropdown">
                <div class="dropdown-trigger" id="musicTrigger">
                    <span class="dropdown-value" id="musicValue">Groove Salad (Chill)</span>
                    <svg class="dropdown-arrow" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 10l5 5 5-5z"/>
                    </svg>
                </div>
                <div class="dropdown-menu" id="musicMenu">
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/groovesalad-128-mp3">Groove Salad (Chill)</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/dronezone-128-mp3">Drone Zone (Ambient)</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/deepspaceone-128-mp3">Deep Space One</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/spacestation-128-mp3">Space Station Soma</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/lush-128-mp3">Lush (Dreamy)</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/seventies-128-mp3">Left Coast 70s</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/beatblender-128-mp3">Beat Blender (Study)</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/defcon-128-mp3">DEF CON Radio</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/fluid-128-mp3">Fluid (Calm Focus)</div>
                    <div class="dropdown-option" data-value="https://ice1.somafm.com/folkfwd-128-mp3">Folk Forward</div>
                </div>
            </div>
            <select class="music-select" id="radioChannel" style="display: none;">
                <option value="https://ice1.somafm.com/groovesalad-128-mp3">Groove Salad (Chill)</option>
                <option value="https://ice1.somafm.com/dronezone-128-mp3">Drone Zone (Ambient)</option>
                <option value="https://ice1.somafm.com/deepspaceone-128-mp3">Deep Space One</option>
                <option value="https://ice1.somafm.com/spacestation-128-mp3">Space Station Soma</option>
                <option value="https://ice1.somafm.com/lush-128-mp3">Lush (Dreamy)</option>
                <option value="https://ice1.somafm.com/seventies-128-mp3">Left Coast 70s</option>
                <option value="https://ice1.somafm.com/beatblender-128-mp3">Beat Blender (Study)</option>
                <option value="https://ice1.somafm.com/defcon-128-mp3">DEF CON Radio</option>
                <option value="https://ice1.somafm.com/fluid-128-mp3">Fluid (Calm Focus)</option>
                <option value="https://ice1.somafm.com/folkfwd-128-mp3">Folk Forward</option>
            </select>
        </div>
    </aside>

    <!-- ========== MAIN CONTENT (Background Image Area) ========== -->
    <main class="main-content">
        <!-- Noise Visual Effect Layer -->
         <div class="noise-effect-layer" id="noiseEffectLayer">
             <div class="ripple ripple-1"></div>
             <div class="ripple ripple-2"></div>
             <div class="ripple ripple-3"></div>
             <div class="ripple ripple-4"></div>
             <div class="ripple ripple-5"></div>
             <div class="ripple ripple-6"></div>
             <!-- Sound wave groups -->
             <div class="wave-group wave-group-1">
                 <div class="sound-wave sound-wave-1"></div>
                 <div class="sound-wave sound-wave-2"></div>
                 <div class="sound-wave sound-wave-3"></div>
             </div>
             <div class="wave-group wave-group-2">
                 <div class="sound-wave sound-wave-1"></div>
                 <div class="sound-wave sound-wave-2"></div>
                 <div class="sound-wave sound-wave-3"></div>
             </div>
             <div class="wave-group wave-group-3">
                 <div class="sound-wave sound-wave-1"></div>
                 <div class="sound-wave sound-wave-2"></div>
                 <div class="sound-wave sound-wave-3"></div>
             </div>
             <div class="wave-group wave-group-4">
                 <div class="sound-wave sound-wave-1"></div>
                 <div class="sound-wave sound-wave-2"></div>
                 <div class="sound-wave sound-wave-3"></div>
             </div>
         </div>
        
        <!-- Robot Character -->
        <div class="robot-container">
            <div class="robot-wrapper" id="robotWrapper">
                <img class="robot-image" id="robotImage" src="assets/robots/normal/space.png" alt="Robot">
                <video class="robot-video" id="robotVideo" src="assets/videos/dinosaur.mp4" muted playsinline style="display: none;"></video>
                <div class="speech-bubble" id="speechBubble">
                    <span id="speechText">Shhh!</span>
                    <div class="speech-bubble-tail"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- HTML5 Audio element for Soma.fm -->
    <audio id="audioPlayer"></audio>

    <script src="app.js"></script>
</body>

</html>
